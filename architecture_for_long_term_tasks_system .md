# Простая архитектура для систем обработки задач занимающих длительное время

## Аннотация
В данной статье рассматривается простая архитектура подходящая для реализации систем выполняющих длительные операции по запросу клиента.  
Описанная архитектура является асинхронной и горизонтально масштабируемой.


## Введение
Среди всего многообразия задач, с которыми сталкиваются программисты при разработке корпоративных систем, можно выделить подкласс который можно определить как "создание подсистем выполнение длительных операций по запросу клиента". К такому классу задач, к примеру, можно отнести задачи построения больших отчетов, построение аналитики по сложным и/или большим выборкам, выполение преобразования данных одного формата в другой, и т.д. Все приведенные примеры объединяются по нескольким признакам: Во-первых, все эти задачи стартуют по запросу пользователя. Во-вторых, они являются длительными. И, наконец, третий признак: пользователь хочет получить уведомление о завершении операции, для дальнейшй работы с результатами ее выполнения.  
Задача построения таких подсистем усложняется, если к длительности самой операции добавляется массовость запросов на ее выполнение. Т.е. к подсистеме предъявляются требования масштабируемости не только самого процесса вычисления, но и взятия заказов в обработку. 
Очивидным решением, является асинхрооное вполнение операций. Далее, на примере подсистемы преобразования документации из html в pdf будет показана достаточно простое архитектурное решение для такой подсистемы.  

## Общее описание задачи

Любая компания, производящая выскотехнологичный продукт, будь то ПО или станки, должна вести подробную документацию на свою продукцию. Документация, и разного рода соглашения, обеспечивают, кроме прочего, юридическую защиту компании.   
Предположим, что некая компания ведет документацию в формате HTML. Это может быть удобно, если изначально стояла задача предоставить удобный и простой способ доступа к документации для клиентов. Для формироания, ведения и публикации документации IT отдел компании разработал внутреннюю систему. Через некоторое время, юредический отдел запросил возможность преобразования документации из формата HTML в формат PDF, с возможностью цифровой подписи, полученного на выходе, документа. При этом, переводить в формат PDF надо не всю имеющуюся документацию, а ее проивозольное подмножество: определенные главы/пункты/подпункты.  
Допустим, что документация довольно объемна, и зависит как от самого продукта, так и от его версии/модификации.   

## Описание в виде User Case

_Цель:_ Формирование избранных разделов документации по продукту в формате PDF с цифровой подписью.
_Акторы:_ Уполномоченный оператор юредического отдела.
_Предворительные условия:_ Во внутренней системе сформированна полная документация на продукт. 
_Активаторы:_ Запрос юридического отдела на формирования определенного подмножества из документации на продукт в виде PDF-файла.
_Порядок событий:_ 

 
